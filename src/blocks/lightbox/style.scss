// Block wrapper
.wp-block-gutenlayouts-lightbox {
    text-align: var(--alignment);
    line-height: 1;
    border: none;
}

// lightbox play button
.gutenlayouts-play-btn {
    display: inline-flex;
    align-items: center;
    cursor: pointer;
    text-decoration: none;

    svg {
        width: var(--svg-size);
        height: var(--svg-size);
        fill: var(--icon-color);
        display: block;
        transition: all 0.4s cubic-bezier(0.1, 0, 0.3, 1);
    }

    .gutenlayouts-btn-icon {
        position: relative;
        padding: var(--padding);
        border-width: var(--border-width);
        border-style: var(--border-style);
        border-color: var(--border-color);
        border-radius: var(--border-radius, 50%);
        background-color: var(--bg-color);
        transition: all 0.4s cubic-bezier(0.1, 0, 0.3, 1);
        animation: var(--lightbox-animation) var(--animation-duration, 2s) infinite;
        overflow: hidden;
    }

    &:hover {
        .gutenlayouts-btn-icon {
            background: var(--hbg-color);
            border-color: var(--iconhb-color);
        }

        svg {
            fill: var(--hicon-color);
        }
    }
}

// Pulse Effect
@keyframes pulseEffect {
    0% {
        box-shadow:
            0 0 0 0 var(--lighteff-color, rgba(38, 103, 255, 0.4)),
            0 0 0 0 var(--lighteff-color, rgba(38, 103, 255, 0.4));
    }
    50% {
        box-shadow:
            0 0 0 15px rgba(38, 103, 255, 0),
            0 0 0 30px rgba(38, 103, 255, 0);
        opacity: 0.7;
    }
    100% {
        box-shadow:
            0 0 0 0 rgba(38, 103, 255, 0),
            0 0 0 0 rgba(38, 103, 255, 0);
        opacity: 0.8;
    }
}

// Radar / Sonar Effect
@keyframes radarEffect {
    0% {
        box-shadow: 0 0 0 0 var(--lighteff-color, rgba(38, 103, 255, 0.4));
    }
    70% {
        box-shadow: 0 0 0 20px rgba(38, 103, 255, 0);
    }
    100% {
        box-shadow: 0 0 0 20px rgba(38, 103, 255, 0);
    }
}

// Heartbeat Effect
@keyframes heartbeatEffect {
    0% {
        transform: scale(1);
    }
    14% {
        transform: scale(1.1);
    }
    28% {
        transform: scale(1);
    }
    42% {
        transform: scale(1.1);
    }
    70% {
        transform: scale(1);
    }
}

// Glow Effect (Neon Pulse)
@keyframes glowEffect {
    0% {
        box-shadow: 0 0 5px var(--lighteff-color, rgba(38, 103, 255, 0.6));
    }
    50% {
        box-shadow: 0 0 25px var(--lighteff-color, rgba(38, 103, 255, 0.8));
    }
    100% {
        box-shadow: 0 0 5px var(--lighteff-color, rgba(38, 103, 255, 0.6));
    }
}

// Rotate Effect
@keyframes rotateEffect {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

.gutenlayouts-lightbox-content {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: var(--overlay-color, rgba(0, 0, 0, 0.85)); // Overlay color
    z-index: 99999;

    // Centering logic
    display: flex;
    align-items: center;
    justify-content: center;

    // Default hidden state
    opacity: 0;
    visibility: hidden;
    transition:
        opacity 0.3s ease,
        visibility 0.3s ease;
    backdrop-filter: blur(5px);

    &.active {
        opacity: 1;
        visibility: visible;
    }

    // Close button
    .gutenlayouts-lightbox-close {
        position: absolute;
        top: 30px;
        right: 30px;
        background: none;
        border: none;
        padding: 5px;
        cursor: pointer;
        z-index: 100000;

        svg {
            fill: var(--close-icon-color, #fff);
            width: 32px;
            height: 32px;
            transition: transform 0.2s ease;
        }

        &:hover svg {
            transform: scale(1.1);
        }
    }

    // Inner content wrapper
    .lightbox-content {
        position: relative;
        width: 100%;
        max-width: var(--lightbox-max-width, 900px);
        max-height: var(--lightbox-max-height, 90vh);
        margin: 20px;
        padding: var(--lightbox-padding, 20px);
        background: var(--lightbox-bg-color);
        box-sizing: border-box;
        border-radius: var(--lightbox-border-radius, 10px);
        overflow: hidden;
        // Ensure inner blocks behave well
        > * {
            max-width: 100%;
            max-height: var(--lightbox-max-height, 90vh);
        }
    }
}

// Iframe styles
.gutenlayouts-content-iframe {
    width: 100%;
    aspect-ratio: 16 / 9;
    border: 0;
    display: block; // Removes potential extra space
}
